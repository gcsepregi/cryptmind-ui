<div class="diary-entry-root">
  <div class="diary-entry-container">
    <button [routerLink]="['/journals']" class="diary-entry-back" type="button">
      <fa-icon [icon]="faArrowLeft" class="my-icon" />
      Back to Journals
    </button>
    <h1 class="diary-entry-title">
      <fa-icon [icon]="faBook" class="my-icon" />
      New Diary Entry
    </h1>
    <form class="diary-entry-form" [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="diary-entry-group">
        <label for="title">Title</label>
        <input type="text" id="title" name="title" placeholder="Entry title" formControlName="title" required/>
      </div>
      <div class="diary-entry-group diary-entry-group-textarea">
        <label for="entry">Entry</label>
        <textarea id="entry" name="entry" placeholder="Write your diary entry here..." formControlName="entry" required></textarea>
      </div>
      <div class="diary-entry-group">
        <label for="tags">Tags <span class="diary-entry-tags-hint">(press Enter or comma)</span></label>
        <div class="diary-entry-tags-box">
          @for (tag of tags; track tag) {
            <span class="diary-entry-tag">
              {{ tag }}
              <button type="button" class="diary-entry-tag-remove" (click)="removeTag(tag)">
                <fa-icon [icon]="faXmark" class="my-icon" />
              </button>
            </span>
          }
          <input type="text" class="diary-entry-tag-input" placeholder="Add tag..." aria-label="Add tag" formControlName="tagInput" (keydown)="addTag($event)"/>
        </div>
      </div>
      <button type="submit" class="diary-entry-submit" [disabled]="form.invalid">
        <fa-icon [icon]="faBook" class="my-icon" />
        Create Entry
      </button>
    </form>
  </div>
</div>
